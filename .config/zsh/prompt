git_info() {
	[ ! -d ".git" ] && return

	ref=$(git rev-parse --abbrev-ref HEAD 2> /dev/null)
	head=$(git rev-parse --verify --short=8 HEAD 2> /dev/null)

	echo "%F{black}%K{green}${ref}%k%f %F{black}%K{blue}${head}%k%f"
}

autoload -U colors && colors
setopt prompt_subst
RPS1='$(git_info)'
PS1=$'\n%F{50}%(4~|%-1~/…/%3~|%~)%f\n%B%F{blue}❯%f%b '
