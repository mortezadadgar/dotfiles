################
### MONITORS ###
################

monitor=,preferred,auto,auto

###################
### MY PROGRAMS ###
###################

# Set programs that you use
$terminal = foot
$menu = fuzzel

###################
### PERMISSIONS ###
###################

ecosystem {
	enforce_permissions = true
	no_donation_nag = true
	no_update_news = true
}

permission = /usr/(bin|local/bin)/grim, screencopy, allow
permission = /usr/(bin|local/bin)/hyprlock, screencopy, allow
permission = /usr/(bin|local/bin)/hyprpicker, screencopy, allow
permission = /usr/(lib|libexec|lib64)/xdg-desktop-portal-hyprland, screencopy, allow

#####################
### LOOK AND FEEL ###
#####################

general {
	gaps_in = 5
	gaps_out = 10

    border_size = 1

    col.active_border = rgb(C4A7E7)
    col.inactive_border = rgb(595959)

    resize_on_border = true

    layout = master
}

render {
    # result in black screen for mpv
    send_content_type = false
}

decoration {
    rounding = 5

    shadow {
        enabled = false
    }
    blur {
        enabled = false
    }
}

animations {
    enabled = no,
}

master {
    new_status = master
}

#############
### INPUT ###
#############

input {
    kb_layout = us,ir
    kb_options = grp:alt_shift_toggle,caps:escape
    repeat_rate = 50
    repeat_delay = 300

    follow_mouse = 0
    float_switch_override_focus = 0

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.

    touchpad {
        natural_scroll = true
    }
}

#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland

###################
### KEYBINDINGS ###
###################

$mod = SUPER

bind = $mod, Return, exec, $terminal
bind = $mod  SHIFT, Q, killactive,
bind = $mod, S, togglefloating,
bind = $mod, D, exec, $menu
bind = $mod, SPACE, layoutmsg, swapwithmaster
bind = $mod, M, fullscreen
bind = $mod, TAB, workspace, previous

# Move focus
bind = $mod, j, layoutmsg, cyclenext
bind = $mod, k, layoutmsg, cycleprev

# Switch workspaces with mod + [0-9]
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9

# Move active window to a workspace with mod + SHIFT + [0-9]
bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9

# scratchpad
workspace = special:terminal, on-created-empty:[float; size 800 600; center] foot, persistent:false
bind = $mod, U, togglespecialworkspace, terminal

# Scroll through existing workspaces with mod + scroll
bind = $mod, mouse_down, workspace, e+1
bind = $mod, mouse_up, workspace, e-1

# Move/resize windows with mod + LMB/RMB and dragging
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# resize windows with keyboard
bind = $mod , h, resizeactive, -50 0
bind = $mod , l, resizeactive, 50 0

# programs
bind = $mod&Control_L, Equal, exec, dmenupass
bind = $mod&Control_L, P, exec, dmenupower
bind = $mod&Control_L, M, exec, open-ncmpcpp
bind = $mod, Print, exec, shotmenu

# Laptop multimedia keys for volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle; pkill -RTMIN+8 waybar
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

# Control media players
bindl = ,XF86AudioNext, exec, playerctl next
bindl = ,XF86AudioPrev, exec, playerctl previous
bindl = ,XF86AudioPause, exec, playerctl play-pause
bindl = ,XF86AudioPlay, exec, playerctl play-pause

# Control media players for non multimedia keyboard
bindl = ,End, exec, playerctl next
bindl = ,Home, exec, playerctl previous
bindl  = $mod, End, exec, playerctl position 10+
bindl  = $mod, Home, exec, playerctl position 10-
bindl = ,Insert, exec, playerctl play-pause
bindl =  $mod, Insert, exec, playerctl stop

# Control volume for non multimedia keyboard
bindel = ,Page_Up, exec, wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,Page_Down, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,Pause, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,Scroll_Lock, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle; pkill -RTMIN+8 waybar

# monitor brightness
bindel = ,F11, exec, ddcutil setvcp 10 - 10 --skip-ddc-checks --bus 3
bindel = ,F12, exec, ddcutil setvcp 10 + 10 --skip-ddc-checks --bus 3

# notifications
bind = Control_L&Shift_L, SPACE, exec, makoctl restore
bind = Control_L, SPACE, exec, makoctl dismiss

##############################
### WINDOWS AND WORKSPACES ###
##############################

# Rules
windowrule = workspace 2, class:^(firefox)$
windowrule = workspace 2, class:^(brave-browser)$
windowrule = workspace 2, class:^(chromium)$
windowrule = workspace 3, class:^(org.telegram.desktop)$
windowrule = fullscreen, title:^(Media viewer)$, class:^(org.telegram.desktop)$
windowrule = float, title:^(Save File)$, class:^(org.telegram.desktop)$
windowrule = workspace 4, class:^(mpv)$
windowrule = workspace 5, class:^(org.pwmt.zathura)$
windowrule = workspace 6, title:^(ncmpcpp)$
windowrule = float, title:^(ncmpcpp)$
windowrule = size 40%, title:^(ncmpcpp)$
windowrule = workspace 7, class:^(org.mozilla.Thunderbird)$
windowrule = size 55%, class:^(org.qbittorrent.qBittorrent)$
windowrule = float, class:^(org.qbittorrent.qBittorrent)$
windowrule = workspace 8, class:^(org.qbittorrent.qBittorrent)$
windowrule = float, class:^(Clockify)$
windowrule = float, class:^(oblivion-desktop)$
windowrule = float, class:^(Windscribe)$
windowrule = float, class:^(org.kde.kdeconnect.app)$
windowrule = size 55%, class:^(org.kde.kdeconnect.app)$
windowrule = float, title:^(floating)$
windowrule = size 45%, title:^(floating)$
windowrule = float, class:^(hiddify)$
windowrule = float, class:^(v2rayN)$

# Save file window
windowrule = float, class:^(xdg-desktop-portal-gtk)$
windowrule = size 50% 70%, class:^(xdg-desktop-portal-gtk)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Workaround xwayland starting as floating
# windowrule = tile, xwayland:1
