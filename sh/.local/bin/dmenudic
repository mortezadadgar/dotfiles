#!/bin/sh
# Description: write a description
# Shell: POSIX compliant
set -eu

dictionary="$XDG_DATA_HOME/dictionary.txt"
select=$(printf "show dictionary entries\nwrite to dictionary" | tofi)

case $select in
		show*)
			tofi < "$dictionary" 
			;;
		write*)
			word=$(echo "" | tofi --prompt-text "Add word: ")
			meaning=$(echo "" | tofi --prompt-text "Add meaning: ")

			line_number=$(($(wc -l "$dictionary" | cut -d " " -f 1) + 1))

			echo "$line_number. $word : $meaning" >> "$dictionary"
			;;
esac
