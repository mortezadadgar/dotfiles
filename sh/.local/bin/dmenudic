#!/bin/sh
# Description: write a description
# Shell: POSIX compliant
set -eu

dictionary="$XDG_DATA_HOME/dictionary.txt"
select=$(printf "show dictionary entries\nwrite to dictionary" | dmenu)

case $select in
		show*)
			dmenu -l 10 < "$dictionary" 
			;;
		write*)
			word=$(echo "" | dmenu -p "Add word: ") || exit 1
			meaning=$(echo "" | dmenu -p "Add meaning: ") || exit 1

			line_number=$(($(wc -l "$dictionary" | cut -d " " -f 1) + 1))

			echo "$line_number. $word : $meaning" >> "$dictionary"
			;;
esac
