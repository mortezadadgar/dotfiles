#!/bin/sh
# Description: A simple powermenu with tofi
# Dependencies: tofi, slock, elogind
# Shell: POSIX compliant
set -eu

select=$(printf " Poweroff\n Restart\n󰍃 Logoff\n Lockscreen\n󰤄 Sleep"| tofi)

case $select in
	" Poweroff")
		notify-send -i system-shutdown "Shutting down..."
		sleep 0.75
		clear > /dev/tty1
		systemctl poweroff
		;;
	" Restart")
		notify-send -i system-reboot "Restarting..."
		sleep 0.75
		clear > /dev/tty1
		systemctl reboot
		;;
	"󰍃 Logoff")
		notify-send -i system-reboot "Loggging off..."
		sleep 0.75
		clear > /dev/tty1
		wtype -M logo -M ctrl -M shift Q
		;;
	" Lockscreen")
		notify-send -i system-suspend "Lockscreen..."
		sleep 0.75
		xset s activate
		;;
	"󰤄 Sleep")
		notify-send -i system-lock-screen "Going to Sleep..."
		sleep 0.75
		systemctl suspend -i
		;;
esac
