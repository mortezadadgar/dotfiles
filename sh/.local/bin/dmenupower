#!/bin/sh
# Description: A simple powermenu with dmenu
# Dependencies: dmenu, slock, elogind
# Shell: POSIX compliant
set -eu

select=$(printf " Poweroff\n Restart\n󰍃 Logoff\n Lockscreen\n󰤄 Sleep"| dmenu -i)

case $select in
	" Poweroff")
		notify-send -u low -i system-shutdown "Shutting down..."
		sleep 0.75
		clear > /dev/tty1
		loginctl poweroff
		;;
	" Restart")
		notify-send -u low -i system-reboot "Restarting..."
		sleep 0.75
		clear > /dev/tty1
		loginctl reboot
		;;
	"󰍃 Logoff")
		notify-send -u low -i system-reboot "Loggging off..."
		sleep 0.75
		clear > /dev/tty1
		pkill -TERM "dwm$"
		;;
	" Lockscreen")
		notify-send -u low -i system-suspend "Lockscreen..."
		sleep 0.75
		# xset s activate
		slock
		;;
	"󰤄 Sleep")
		notify-send -u low -i system-lock-screen "Going to Sleep..."
		sleep 0.75
		loginctl suspend -i
		;;
esac
