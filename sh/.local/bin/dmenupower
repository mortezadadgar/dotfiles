#!/bin/sh
# Description: A simple powermenu with dmenu
# Dependencies: dmenu, slock, elogind
# Shell: POSIX compliant
set -eu

select=$(printf " Poweroff\n Restart\n󰍃 Logoff\n Lockscreen\n󰤄 Sleep"| dmenu -i)

case $select in
	" Poweroff")
		notify-send "A job running"
		loginctl poweroff -i
		;;
	" Restart")
		notify-send "A job running"
		loginctl reboot -i
		;;
	"󰍃 Logoff")
		clear > /dev/tty1
		xdotool key super+shift+ctrl+q
		;;
	" Lockscreen")
		xset s activate
		;;
	"󰤄 Sleep")
		if pgrep irssi >/dev/null; then
			return
		fi
		loginctl suspend -i
		;;
esac
